{"ast":null,"code":"import{useState,useEffect}from'react';const useScrollSpy=sections=>{const[activeSection,setActiveSection]=useState(sections[0]);const[showScrollTop,setShowScrollTop]=useState(false);useEffect(()=>{const handleScroll=()=>{// Afficher/masquer le bouton de retour en haut\nsetShowScrollTop(window.scrollY>500);// Trouver la section active\nconst sectionElements=sections.map(section=>document.getElementById(section));const currentSection=sectionElements.find((element,index)=>{if(!element)return false;const rect=element.getBoundingClientRect();const isLastSection=index===sections.length-1;// Pour la dernière section, on vérifie si on est proche du bas de la page\nif(isLastSection){return window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-100;}// Pour les autres sections, on vérifie si elles sont visibles dans le viewport\nreturn rect.top<=150&&rect.bottom>=150;});if(currentSection){setActiveSection(sections[sectionElements.indexOf(currentSection)]);}};// Ajouter les écouteurs d'événements\nwindow.addEventListener('scroll',handleScroll);handleScroll();// Appel initial\nreturn()=>{window.removeEventListener('scroll',handleScroll);};},[sections]);const scrollToSection=sectionId=>{const element=document.getElementById(sectionId);if(element){const offset=80;// Ajustement pour le header fixe\nconst elementPosition=element.getBoundingClientRect().top;const offsetPosition=elementPosition+window.scrollY-offset;window.scrollTo({top:offsetPosition,behavior:'smooth'});}};const scrollToTop=()=>{window.scrollTo({top:0,behavior:'smooth'});};return{activeSection,showScrollTop,scrollToSection,scrollToTop};};export default useScrollSpy;","map":{"version":3,"names":["useState","useEffect","useScrollSpy","sections","activeSection","setActiveSection","showScrollTop","setShowScrollTop","handleScroll","window","scrollY","sectionElements","map","section","document","getElementById","currentSection","find","element","index","rect","getBoundingClientRect","isLastSection","length","innerHeight","documentElement","scrollHeight","top","bottom","indexOf","addEventListener","removeEventListener","scrollToSection","sectionId","offset","elementPosition","offsetPosition","scrollTo","behavior","scrollToTop"],"sources":["/Users/syphax/Desktop/my-portfolio/src/hooks/useScrollSpy.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nconst useScrollSpy = (sections) => {\n  const [activeSection, setActiveSection] = useState(sections[0]);\n  const [showScrollTop, setShowScrollTop] = useState(false);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      // Afficher/masquer le bouton de retour en haut\n      setShowScrollTop(window.scrollY > 500);\n\n      // Trouver la section active\n      const sectionElements = sections.map(section =>\n        document.getElementById(section)\n      );\n\n      const currentSection = sectionElements.find((element, index) => {\n        if (!element) return false;\n\n        const rect = element.getBoundingClientRect();\n        const isLastSection = index === sections.length - 1;\n\n        // Pour la dernière section, on vérifie si on est proche du bas de la page\n        if (isLastSection) {\n          return window.innerHeight + window.scrollY >= document.documentElement.scrollHeight - 100;\n        }\n\n        // Pour les autres sections, on vérifie si elles sont visibles dans le viewport\n        return rect.top <= 150 && rect.bottom >= 150;\n      });\n\n      if (currentSection) {\n        setActiveSection(sections[sectionElements.indexOf(currentSection)]);\n      }\n    };\n\n    // Ajouter les écouteurs d'événements\n    window.addEventListener('scroll', handleScroll);\n    handleScroll(); // Appel initial\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [sections]);\n\n  const scrollToSection = (sectionId) => {\n    const element = document.getElementById(sectionId);\n    if (element) {\n      const offset = 80; // Ajustement pour le header fixe\n      const elementPosition = element.getBoundingClientRect().top;\n      const offsetPosition = elementPosition + window.scrollY - offset;\n\n      window.scrollTo({\n        top: offsetPosition,\n        behavior: 'smooth'\n      });\n    }\n  };\n\n  const scrollToTop = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  };\n\n  return {\n    activeSection,\n    showScrollTop,\n    scrollToSection,\n    scrollToTop\n  };\n};\n\nexport default useScrollSpy;"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAE3C,KAAM,CAAAC,YAAY,CAAIC,QAAQ,EAAK,CACjC,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGL,QAAQ,CAACG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC/D,KAAM,CAACG,aAAa,CAAEC,gBAAgB,CAAC,CAAGP,QAAQ,CAAC,KAAK,CAAC,CAEzDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAO,YAAY,CAAGA,CAAA,GAAM,CACzB;AACAD,gBAAgB,CAACE,MAAM,CAACC,OAAO,CAAG,GAAG,CAAC,CAEtC;AACA,KAAM,CAAAC,eAAe,CAAGR,QAAQ,CAACS,GAAG,CAACC,OAAO,EAC1CC,QAAQ,CAACC,cAAc,CAACF,OAAO,CACjC,CAAC,CAED,KAAM,CAAAG,cAAc,CAAGL,eAAe,CAACM,IAAI,CAAC,CAACC,OAAO,CAAEC,KAAK,GAAK,CAC9D,GAAI,CAACD,OAAO,CAAE,MAAO,MAAK,CAE1B,KAAM,CAAAE,IAAI,CAAGF,OAAO,CAACG,qBAAqB,CAAC,CAAC,CAC5C,KAAM,CAAAC,aAAa,CAAGH,KAAK,GAAKhB,QAAQ,CAACoB,MAAM,CAAG,CAAC,CAEnD;AACA,GAAID,aAAa,CAAE,CACjB,MAAO,CAAAb,MAAM,CAACe,WAAW,CAAGf,MAAM,CAACC,OAAO,EAAII,QAAQ,CAACW,eAAe,CAACC,YAAY,CAAG,GAAG,CAC3F,CAEA;AACA,MAAO,CAAAN,IAAI,CAACO,GAAG,EAAI,GAAG,EAAIP,IAAI,CAACQ,MAAM,EAAI,GAAG,CAC9C,CAAC,CAAC,CAEF,GAAIZ,cAAc,CAAE,CAClBX,gBAAgB,CAACF,QAAQ,CAACQ,eAAe,CAACkB,OAAO,CAACb,cAAc,CAAC,CAAC,CAAC,CACrE,CACF,CAAC,CAED;AACAP,MAAM,CAACqB,gBAAgB,CAAC,QAAQ,CAAEtB,YAAY,CAAC,CAC/CA,YAAY,CAAC,CAAC,CAAE;AAEhB,MAAO,IAAM,CACXC,MAAM,CAACsB,mBAAmB,CAAC,QAAQ,CAAEvB,YAAY,CAAC,CACpD,CAAC,CACH,CAAC,CAAE,CAACL,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAA6B,eAAe,CAAIC,SAAS,EAAK,CACrC,KAAM,CAAAf,OAAO,CAAGJ,QAAQ,CAACC,cAAc,CAACkB,SAAS,CAAC,CAClD,GAAIf,OAAO,CAAE,CACX,KAAM,CAAAgB,MAAM,CAAG,EAAE,CAAE;AACnB,KAAM,CAAAC,eAAe,CAAGjB,OAAO,CAACG,qBAAqB,CAAC,CAAC,CAACM,GAAG,CAC3D,KAAM,CAAAS,cAAc,CAAGD,eAAe,CAAG1B,MAAM,CAACC,OAAO,CAAGwB,MAAM,CAEhEzB,MAAM,CAAC4B,QAAQ,CAAC,CACdV,GAAG,CAAES,cAAc,CACnBE,QAAQ,CAAE,QACZ,CAAC,CAAC,CACJ,CACF,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB9B,MAAM,CAAC4B,QAAQ,CAAC,CACdV,GAAG,CAAE,CAAC,CACNW,QAAQ,CAAE,QACZ,CAAC,CAAC,CACJ,CAAC,CAED,MAAO,CACLlC,aAAa,CACbE,aAAa,CACb0B,eAAe,CACfO,WACF,CAAC,CACH,CAAC,CAED,cAAe,CAAArC,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}