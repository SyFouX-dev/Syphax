{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nconst useScrollSpy = sections => {\n  _s();\n  const [activeSection, setActiveSection] = useState(sections[0]);\n  const [showScrollTop, setShowScrollTop] = useState(false);\n  useEffect(() => {\n    const handleScroll = () => {\n      // Afficher/masquer le bouton de retour en haut\n      setShowScrollTop(window.scrollY > 500);\n\n      // Trouver la section active\n      const sectionElements = sections.map(section => document.getElementById(section));\n      const currentSection = sectionElements.find((element, index) => {\n        if (!element) return false;\n        const rect = element.getBoundingClientRect();\n        const isLastSection = index === sections.length - 1;\n\n        // Pour la dernière section, on vérifie si on est proche du bas de la page\n        if (isLastSection) {\n          return window.innerHeight + window.scrollY >= document.documentElement.scrollHeight - 100;\n        }\n\n        // Pour les autres sections, on vérifie si elles sont visibles dans le viewport\n        return rect.top <= 150 && rect.bottom >= 150;\n      });\n      if (currentSection) {\n        setActiveSection(sections[sectionElements.indexOf(currentSection)]);\n      }\n    };\n\n    // Ajouter les écouteurs d'événements\n    window.addEventListener('scroll', handleScroll);\n    handleScroll(); // Appel initial\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [sections]);\n  const scrollToSection = sectionId => {\n    const element = document.getElementById(sectionId);\n    if (element) {\n      const offset = 80; // Ajustement pour le header fixe\n      const elementPosition = element.getBoundingClientRect().top;\n      const offsetPosition = elementPosition + window.scrollY - offset;\n      window.scrollTo({\n        top: offsetPosition,\n        behavior: 'smooth'\n      });\n    }\n  };\n  const scrollToTop = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  };\n  return {\n    activeSection,\n    showScrollTop,\n    scrollToSection,\n    scrollToTop\n  };\n};\n_s(useScrollSpy, \"tIsLigIrLMWrtO2/uqcxdpILSus=\");\nexport default useScrollSpy;","map":{"version":3,"names":["useState","useEffect","useScrollSpy","sections","_s","activeSection","setActiveSection","showScrollTop","setShowScrollTop","handleScroll","window","scrollY","sectionElements","map","section","document","getElementById","currentSection","find","element","index","rect","getBoundingClientRect","isLastSection","length","innerHeight","documentElement","scrollHeight","top","bottom","indexOf","addEventListener","removeEventListener","scrollToSection","sectionId","offset","elementPosition","offsetPosition","scrollTo","behavior","scrollToTop"],"sources":["/Users/syphax/Wac/W-PRO-260-PAR-3-1-portfoliotitre-syphax.haddou/my-portfolio/src/hooks/useScrollSpy.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nconst useScrollSpy = (sections) => {\n  const [activeSection, setActiveSection] = useState(sections[0]);\n  const [showScrollTop, setShowScrollTop] = useState(false);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      // Afficher/masquer le bouton de retour en haut\n      setShowScrollTop(window.scrollY > 500);\n\n      // Trouver la section active\n      const sectionElements = sections.map(section =>\n        document.getElementById(section)\n      );\n\n      const currentSection = sectionElements.find((element, index) => {\n        if (!element) return false;\n\n        const rect = element.getBoundingClientRect();\n        const isLastSection = index === sections.length - 1;\n\n        // Pour la dernière section, on vérifie si on est proche du bas de la page\n        if (isLastSection) {\n          return window.innerHeight + window.scrollY >= document.documentElement.scrollHeight - 100;\n        }\n\n        // Pour les autres sections, on vérifie si elles sont visibles dans le viewport\n        return rect.top <= 150 && rect.bottom >= 150;\n      });\n\n      if (currentSection) {\n        setActiveSection(sections[sectionElements.indexOf(currentSection)]);\n      }\n    };\n\n    // Ajouter les écouteurs d'événements\n    window.addEventListener('scroll', handleScroll);\n    handleScroll(); // Appel initial\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [sections]);\n\n  const scrollToSection = (sectionId) => {\n    const element = document.getElementById(sectionId);\n    if (element) {\n      const offset = 80; // Ajustement pour le header fixe\n      const elementPosition = element.getBoundingClientRect().top;\n      const offsetPosition = elementPosition + window.scrollY - offset;\n\n      window.scrollTo({\n        top: offsetPosition,\n        behavior: 'smooth'\n      });\n    }\n  };\n\n  const scrollToTop = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  };\n\n  return {\n    activeSection,\n    showScrollTop,\n    scrollToSection,\n    scrollToTop\n  };\n};\n\nexport default useScrollSpy;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,MAAMC,YAAY,GAAIC,QAAQ,IAAK;EAAAC,EAAA;EACjC,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGN,QAAQ,CAACG,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC/D,MAAM,CAACI,aAAa,EAAEC,gBAAgB,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EAEzDC,SAAS,CAAC,MAAM;IACd,MAAMQ,YAAY,GAAGA,CAAA,KAAM;MACzB;MACAD,gBAAgB,CAACE,MAAM,CAACC,OAAO,GAAG,GAAG,CAAC;;MAEtC;MACA,MAAMC,eAAe,GAAGT,QAAQ,CAACU,GAAG,CAACC,OAAO,IAC1CC,QAAQ,CAACC,cAAc,CAACF,OAAO,CACjC,CAAC;MAED,MAAMG,cAAc,GAAGL,eAAe,CAACM,IAAI,CAAC,CAACC,OAAO,EAAEC,KAAK,KAAK;QAC9D,IAAI,CAACD,OAAO,EAAE,OAAO,KAAK;QAE1B,MAAME,IAAI,GAAGF,OAAO,CAACG,qBAAqB,CAAC,CAAC;QAC5C,MAAMC,aAAa,GAAGH,KAAK,KAAKjB,QAAQ,CAACqB,MAAM,GAAG,CAAC;;QAEnD;QACA,IAAID,aAAa,EAAE;UACjB,OAAOb,MAAM,CAACe,WAAW,GAAGf,MAAM,CAACC,OAAO,IAAII,QAAQ,CAACW,eAAe,CAACC,YAAY,GAAG,GAAG;QAC3F;;QAEA;QACA,OAAON,IAAI,CAACO,GAAG,IAAI,GAAG,IAAIP,IAAI,CAACQ,MAAM,IAAI,GAAG;MAC9C,CAAC,CAAC;MAEF,IAAIZ,cAAc,EAAE;QAClBX,gBAAgB,CAACH,QAAQ,CAACS,eAAe,CAACkB,OAAO,CAACb,cAAc,CAAC,CAAC,CAAC;MACrE;IACF,CAAC;;IAED;IACAP,MAAM,CAACqB,gBAAgB,CAAC,QAAQ,EAAEtB,YAAY,CAAC;IAC/CA,YAAY,CAAC,CAAC,CAAC,CAAC;;IAEhB,OAAO,MAAM;MACXC,MAAM,CAACsB,mBAAmB,CAAC,QAAQ,EAAEvB,YAAY,CAAC;IACpD,CAAC;EACH,CAAC,EAAE,CAACN,QAAQ,CAAC,CAAC;EAEd,MAAM8B,eAAe,GAAIC,SAAS,IAAK;IACrC,MAAMf,OAAO,GAAGJ,QAAQ,CAACC,cAAc,CAACkB,SAAS,CAAC;IAClD,IAAIf,OAAO,EAAE;MACX,MAAMgB,MAAM,GAAG,EAAE,CAAC,CAAC;MACnB,MAAMC,eAAe,GAAGjB,OAAO,CAACG,qBAAqB,CAAC,CAAC,CAACM,GAAG;MAC3D,MAAMS,cAAc,GAAGD,eAAe,GAAG1B,MAAM,CAACC,OAAO,GAAGwB,MAAM;MAEhEzB,MAAM,CAAC4B,QAAQ,CAAC;QACdV,GAAG,EAAES,cAAc;QACnBE,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ;EACF,CAAC;EAED,MAAMC,WAAW,GAAGA,CAAA,KAAM;IACxB9B,MAAM,CAAC4B,QAAQ,CAAC;MACdV,GAAG,EAAE,CAAC;MACNW,QAAQ,EAAE;IACZ,CAAC,CAAC;EACJ,CAAC;EAED,OAAO;IACLlC,aAAa;IACbE,aAAa;IACb0B,eAAe;IACfO;EACF,CAAC;AACH,CAAC;AAACpC,EAAA,CAtEIF,YAAY;AAwElB,eAAeA,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}